C51 COMPILER V9.57.0.0   TIMER0                                                            12/19/2022 22:18:03 PAGE 1   


C51 COMPILER V9.57.0.0, COMPILATION OF MODULE TIMER0
OBJECT MODULE PLACED IN .\Objects\Timer0.obj
COMPILER INVOKED BY: D:\MCU\Keil5\C51\C51\BIN\C51.EXE Timer0.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listi
                    -ngs\Timer0.lst) OBJECT(.\Objects\Timer0.obj)

line level    source

   1          #include <REGX52.H>
   2          #include "Timer0.h"
   3          
   4          /**
   5           * @brief å®šæ—¶å™¨0åˆå§‹åŒ–
   6           * @param æ— 
   7           * @retval æ— 
   8           */
   9          void Timer0_Init(void)  // 1æ¯«ç§’@11.0592MHz
  10          {
  11   1              /*      TMOD    */
  12   1              //TMOD = 0x01;
  13   1              /*      æ“çºµå…¶ä¸­æŸäº›ä½è€Œä¸å½±å“å…¶å®ƒä½      */
  14   1              TMOD = TMOD & 0xf0;     //æŠŠTMODçš„ä½Ž4ä½æ¸…é›¶ï¼Œé«˜4ä½ä¿æŒä¸å˜ 1010-0011 & 1111-0000 = 1010-0000
  15   1              TMOD = TMOD | 0x01;     //æŠŠTMODçš„ä½Ž4ä½ç½®1ï¼Œé«˜4ä½ä¿æŒä¸å˜(Note: ä½¿å…¶ä¸å½±å“å®šæ—¶å™¨T1çš„æ•°æ
             -®)        1010-0000 & 0000-0001 = 1010-0001
  16   1              
  17   1              /*      TCON    */
  18   1              TF0 = 0;        //å®šæ—¶å™¨/è®¡æ•°å™¨T0æº¢å‡ºä¸­æ–­æ ‡å¿—
  19   1              TR0 = 1;        //å®šæ—¶å™¨T0çš„è¿è¡ŒæŽ§åˆ¶ä½
  20   1              /*      è®¡æ—¶å™¨åˆå€¼: 65535-65435=1000us=1ms */
  21   1              //TH0 = 64535 / 256;    //å–é«˜8ä½
  22   1              //TL0 = 64535 % 256;    //å–ä½Ž8ä½
  23   1              TL0 = 0x66;             //è®¾ç½®å®šæ—¶åˆå€¼
  24   1              TH0 = 0xFC;             //è®¾ç½®å®šæ—¶åˆå€¼
  25   1              
  26   1              /*      ä¸­æ–­å…è®¸æŽ§åˆ¶å¯„å­˜å™¨: IE */
  27   1              EA = 1;         //å¼€æ€»ä¸­æ–­
  28   1              ET0 = 1;        //T0æº¢å‡ºä¸­æ–­å…è®¸
  29   1      
  30   1              /*      ä¸­æ–­ä¼˜å…ˆçº§æŽ§åˆ¶å¯„å­˜å™¨: IP      */
  31   1              PT0 = 0;        //ä½Žä¸­æ–­ä¼˜å…ˆçº§
  32   1      }
  33          
  34          /**
  35           * @brief å®šæ—¶å™¨ä¸­æ–­å‡½æ•°æ¨¡æ¿
  36           * @param æ— 
  37           * @retval æ— 
  38           */
  39          /*
  40          //unsigned int cnt;
  41          void Timer0_Routine(void) interrupt 1   //å®šæ—¶å™¨/è®¡æ•°å™¨åˆå§‹åŒ–å‡½æ•°
  42          {
  43                  static unsigned int cnt;
  44                  TH0 = 64535 / 256;      //æ¯æ¬¡è¿›ä¸­æ–­ä¹‹åŽéƒ½éœ€è¦é‡æ–°èµ‹åˆå€¼
  45                  TL0 = 64535 % 256;
  46                  cnt++;
  47                  if(cnt >= 1000)
  48                  {
  49                          P2_0 = ~P2_0;
  50                          cnt = 0;
  51                  }
  52          }
  53          */
C51 COMPILER V9.57.0.0   TIMER0                                                            12/19/2022 22:18:03 PAGE 2   



MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     23    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
